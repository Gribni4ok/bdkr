<!DOCTYPE html>
<html>
<head>
    <title>Панель управления</title>
    <meta charset="utf-8" />
</head>
<body>
    <form action="" name="addStudentForm" id = "addStudentForm">
        <table>
            <tr><th>Новый студент</th></tr>
            <tr><td><input type="text" placeholder="Фамилия" name="surname"/></td></tr>
            <tr><td><input type="text" placeholder="Имя" name="name"/></td></tr>
            <tr><td><input type="text" placeholder="Отчество" name="middlename"/></td></tr>
            <tr><td><input type="text" placeholder="Пол" name="sex"/></td></tr>
            <tr><td><input type="text" placeholder="Почта" name="email"/></td></tr>
            <tr><td><input type="text" placeholder="Номер телефона" name="phone"/></td></tr>
            <tr><td><input type="text" placeholder="ИНН" name="tin"/></td></tr>
            <tr><td><input type="text" placeholder="Серия и номер паспорта" name="passport"/></td></tr>
            <tr><td><input type="text" placeholder="Кем выдан паспорт" name="passport_by"/></td></tr>
            <tr><td><input type="text" placeholder="Дата выдачи паспорта" name="passport_date"/></td></tr>
            <tr><td><input type="text" placeholder="Логин" name="login"/></td></tr>
            <tr><td><input type="text" placeholder="Пароль" name="password"/></td></tr>
            <tr><td><button type="submit" id="submit">Добавить</button></td></tr>
        </table>
    </form>
</body>

<script>
    document.getElementById("submit").addEventListener("click",function(e){
        e.preventDefault();
        let addStudentForm = document.forms["addStudentForm"];
        const jsonFormData = {};
        for(const pair of new FormData(addStudentForm)){
            jsonFormData[pair[0]] = pair[1];
        }
        let student = JSON.stringify(jsonFormData);
        console.log(student);
        let request = new XMLHttpRequest();
        request.open("POST","/control",true);
        request.setRequestHeader("Content-Type", "application/json");
        request.addEventListener("load", function(){
            let receivedStudent = JSON.parse(request.response);
            console.log(receivedStudent.surname," - ",receivedStudent.name);
        });
        request.send(student);
    });
</script>
</html>